-- Blox Fruits Script Menu

-- Setup references
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
local mouse = player:GetMouse()

-- GUI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = playerGui
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 400)
frame.Position = UDim2.new(0.5, -150, 0.5, -200)
frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
frame.BackgroundTransparency = 0.5
frame.Parent = screenGui

-- Create Function to Make Buttons
local function createButton(name, position, action)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 260, 0, 40)
    button.Position = position
    button.Text = name
    button.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    button.Parent = frame

    button.MouseButton1Click:Connect(function()
        action()
    end)
end

-- Teleportation to Island Function
local function teleportToIsland(islandName)
    local island = game.Workspace:FindFirstChild(islandName)
    if island and island.PrimaryPart then
        humanoidRootPart.CFrame = CFrame.new(island.PrimaryPart.Position)
        print("Teleported to " .. islandName)
    else
        warn(islandName .. " not found!")
    end
end

-- Auto Farming Function
local function autoFarm()
    local target = nil

    -- Continuously farm and attack enemies
    while true do
        -- Find the closest enemy
        local closestEnemy = nil
        local minDist = math.huge

        for _, enemy in pairs(game.Workspace:GetChildren()) do
            if enemy:IsA("Model") and enemy:FindFirstChild("HumanoidRootPart") then
                local dist = (humanoidRootPart.Position - enemy.HumanoidRootPart.Position).Magnitude
                if dist < minDist then
                    minDist = dist
                    closestEnemy = enemy
                end
            end
        end

        -- Attack the closest enemy
        if closestEnemy then
            humanoidRootPart.CFrame = CFrame.new(closestEnemy.HumanoidRootPart.Position)
            -- Simulate attacking
            print("Attacking " .. closestEnemy.Name)
        end

        wait(1)
    end
end

-- Auto Fruit Finder Function
local function autoFruitFinder()
    while true do
        for _, fruit in pairs(game.Workspace:GetChildren()) do
            if fruit.Name == "Fruit" and fruit:FindFirstChild("ClickDetector") then
                local dist = (humanoidRootPart.Position - fruit.Position).Magnitude
                if dist < 100 then
                    -- Simulate clicking the fruit (pick up)
                    fireclickdetector(fruit:FindFirstChild("ClickDetector"))
                    print("Picked up fruit: " .. fruit.Name)
                end
            end
        end
        wait(5)  -- Delay between fruit checks
    end
end

-- Add buttons for the GUI menu
createButton("Teleport to CafeIsland", UDim2.new(0, 20, 0, 20), function()
    teleportToIsland("CafeIsland")
end)

createButton("Start Auto Farming", UDim2.new(0, 20, 0, 80), function()
    autoFarm()
end)

createButton("Start Auto Fruit Finder", UDim2.new(0, 20, 0, 140), function()
    autoFruitFinder()
end)

